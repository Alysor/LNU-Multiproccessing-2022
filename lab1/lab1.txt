using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Threading;


namespace lab1
{

    class Program
    {
        
        static int m = int.Parse(Console.ReadLine()); // задаємо кількість рядкі
        static int n = int.Parse(Console.ReadLine()); //задаємо кількість стовпчиків
        static int[,] a = new int[m, n];
        static Random rand = new Random();
        static int i, j;
        static int sum = 0;


        static void Main()
        {
            

            Console.WriteLine("matrix :");

            for (i = 0; i < m; i++)  // цикл створює і виводить матрицю з рандомними елементами
            {
                for (j = 0; j < n; j++)
                {
                    a[i, j] = rand.Next(-10, 50);
                    Console.Write("{0}\t", a[i, j]);
                }
                Console.WriteLine();
                

            }
       

            Thread thread1 = new Thread(summ); // створюємо 1 потік
            thread1.Start(); // запускаємо 1 потік

            Thread thread2 = new Thread(Average); // створюємо 2 потік
            thread2.Start(); // запускаємо 2 потік

            Console.ReadLine();
        }
        static void summ()
        {
            
            Console.WriteLine("max value of each row:");

            for (i = 0; i < m; i++) // цикл знаходить максимальний елемент кожного рядка та їх суму
            {
                int max = 0;
                for (j = 0; j < n; j++)
                {
                    if (a[i, j] > max)
                        max = a[i, j];
                }
                sum += max;
                Console.WriteLine(max); //виводимо кожен максимальний елемент
            }
        }

        static void Average()
        {
            {

                float av = (float)sum / m; // знаходимо середнє арифметичне
                Console.WriteLine("average = {0}", (float)av); // виводимо середнє арифметичне 
                Console.Read();
            }
        }
    }
}
